// https://dbdiagram.io/d/5db9d654edf08a25543d55ce
Table Korisnik {
  ID int [pk, increment] // auto-increment
  "ID komunalne službe u kojoj je zaposlen" int [null, ref: > "Komunalna služba".ID]
  "Korisničko ime" varchar
  "Email adresa" varchar
  "Je li email adresa potvrđena" boolean
  Lozinka varchar
  
  
  Indexes {
    "Korisničko ime" [unique]
    "Email adresa" [unique]
  }
}

Table "Komunalna služba" {
  "ID direktora" int [not null, ref: > Korisnik.ID]
  ID int [pk, increment]
  "Ime komunalne službe" varchar
  "Opis komunalne službe" varchar
 }
 
Table "Država" {
  ID int [pk, increment]
  "Ime države" varchar
}

Table Grad {
  ID int [pk, increment]
  "ID države" int [ref: > "Država".ID]
  "Ime grada" varchar
}

Table Zona {
  ID int [pk, increment]
  "ID grada" int [ref: > Grad.ID]
  "Ime zone" varchar
}
 
Table Kontejner {
  ID int [pk, increment]
  "ID komunalne službe" int [ref: > "Komunalna služba".ID]
  "ID zone" int [ref: > Zona.ID]
  "Adresa kontejnera" varchar
  "Zemljopisna dužina kontejnera" int
  "Zempljopisna širina kontejnera" int
}

Table Recenzija {
  ID int [pk, increment]
  "ID korisnika" int [ref: > Korisnik.ID]
  "ID kontejnera" int [ref: > Kontejner.ID]
  "Ocjena punoće" int
  "Ocjena neurednosti" int
  Komentar varchar
  Slika longblob
  "Vrijeme objave" datetime
}

Table Pretplata {
  "ID korisnika" int [ref: > Korisnik.ID]
  "ID kontejnera" int [ref: > Kontejner.ID]
  Indexes {
    ("ID korisnika", "ID kontejnera") [pk]
  }
}

Table Senzor {
  "ID" int [pk, increment]
  "ID kontejnera" int [ref: > Kontejner.ID]
  "Token" varchar
}
